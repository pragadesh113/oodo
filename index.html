<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>ReWear - Community Clothing Exchange</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ‘—</text></svg>">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and ReactDOM CDN -->
    <script crossorigin src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.development.js"></script>
    <script crossorigin src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.22.5/babel.min.js"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    
    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'rewear-primary': '#2D5A4B',
                        'rewear-secondary': '#4A7C59',
                        'rewear-accent': '#A8E6CF',
                        'rewear-light': '#F0F8F5',
                        'rewear-dark': '#1A3D2E',
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        .gradient-bg {
            background: linear-gradient(135deg, #2D5A4B 0%, #4A7C59 100%);
        }
        
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        .hover-lift {
            transition: transform 0.2s ease-in-out;
        }
        
        .hover-lift:hover {
            transform: translateY(-2px);
        }
        
        .loading-spinner {
            border: 2px solid #f3f3f3;
            border-top: 2px solid #2D5A4B;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <div id="root"></div>
    
    <!-- Firebase Configuration -->
    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAQAZ_0iK2hqKVo1wQwXMz0iQ9cfHdtz-A",
            authDomain: "rewear-8b111.firebaseapp.com",
            projectId: "rewear-8b111",
            storageBucket: "rewear-8b111.appspot.com",
            messagingSenderId: "949098827977",
            appId: "1:949098827977:web:bd356a32d0b267366e7d18",
            measurementId: "G-CDKVEP60KH"
        };

        /* 
         * IMPORTANT: CORS Configuration for Firebase Storage
         * 
         * If you're experiencing CORS errors when uploading to Firebase Storage,
         * you need to configure your Firebase Storage CORS settings in the Firebase Console:
         * 
         * 1. Go to Firebase Console > Storage > Rules
         * 2. Add the following CORS configuration to allow uploads from your domain:
         *
         * [
         *   {
         *     "origin": ["https://rewear-8b111.web.app", "http://localhost:5000"],
         *     "method": ["GET", "POST", "PUT", "DELETE", "HEAD"],
         *     "maxAgeSeconds": 3600
         *   }
         * ]
         *
         * 3. Save the configuration
         *
         * For more information, see: https://firebase.google.com/docs/storage/web/download-files#cors_configuration
         */

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        
        // Firebase services
        const auth = firebase.auth();
        const db = firebase.firestore();
        const storage = firebase.storage();
        
        // Global Firebase reference
        window.firebaseServices = { auth, db, storage };
        window.firebaseConfig = firebaseConfig;
    </script>
    
    <!-- Load Utilities and Services -->
    <script src="src/utils/helpers.js"></script>
    <script src="src/services/firebase.js"></script>
    <script src="src/data/demo.js"></script>
    
    <!-- Load React Components -->
    <script type="text/babel" src="src/components/LoginPage.js?v=1.1"></script>
    <script type="text/babel" src="src/components/RegisterPage.js?v=1.1"></script>
    <script type="text/babel" src="src/components/DashboardPage.js?v=1.1"></script>
    <script type="text/babel" src="src/components/ItemListingPage.js?v=1.1"></script>
    <script type="text/babel" src="src/components/ItemDetailPage.js?v=1.1"></script>
    <script type="text/babel" src="src/components/AddItemPage.js?v=1.1"></script>
    <script type="text/babel" src="src/components/AdminPanel.js?v=1.1"></script>
    <script type="text/babel" src="src/App.js?v=1.1"></script>
    
    <!-- Render App -->
    <script type="text/babel">
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>